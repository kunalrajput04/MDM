<div class="container-fluid">
    <div class="row column_title">
        <div class="col-md-12">
            <div class="page_title">
                <div class="row">
                    <div class="col-3">
                        <h2>Tariff Management</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- row -->

    <!-- row -->
    <div class="row column1">
        <div class="col-md-12">
            <div class="white_shd full margin_bottom_30">
                <div class="full graph_head">
                    <div class="heading1 margin_0">
                        <h2>Update Tariff</h2>
                    </div>

                </div>
                <div class="full price_table padding_infor_info">
                    <div class="form-group consumerdetails row" style="    background-color: #dee2e6;">

                        <div class="col-md-4">
                            <span style="font-weight: bold;">Consumer Name:</span> &nbsp;
                            <span>{{consumerformdata.customerName}}</span>
                        </div>
                        <div class="col-md-4">
                            <span style="font-weight: bold;">Consumer No:</span> &nbsp;
                            <span>{{consumerformdata.customerNo}}</span>
                        </div>
                        <div class="col-md-4">
                            <span style="font-weight: bold;">Consumer Address:</span> &nbsp;
                            <span>{{consumerformdata.address}}</span>
                        </div>
                        <div class="col-md-4">
                            <span style="font-weight: bold;">Mobile No.:</span> &nbsp;
                            <span>{{consumerformdata.whatsappNo}}</span>
                        </div>
                        <div class="col-md-4">
                            <span style="font-weight: bold;">Billing Category:</span> &nbsp;
                            <span>{{consumerformdata.billingCategory}}</span>
                        </div>
                        <div class="col-md-4">
                            <span style="font-weight: bold;">Meter No.:</span> &nbsp;
                            <span>{{consumerformdata.meterSerialNumber}}</span>
                        </div>
                        <div class="col-md-4">
                            <span style="font-weight: bold;">Meter Type:</span> &nbsp;
                            <span>{{consumerformdata.meterType}}</span>
                        </div>

                        <div class="col-md-4">
                            <span style="font-weight: bold;">Consumer Type:</span> &nbsp;
                            <span>{{consumerformdata.consumerType}}</span>
                        </div>





                    </div>
                    <div class="row">
                        <!-- column contact -->
                        <div class="col-md-12">
                            <form #form="ngForm" (submit)="manageRequest()">
                                <input type="hidden" #requestID="ngModel" name="requestID" [(ngModel)]="formData.requestID" />
                                <div class="form-group row">
                                    <div class="col-md-4">
                                        <label>Category/Tariff Index</label>
                                        <select class="form-control" #requestType="ngModel" name="requestType" [(ngModel)]="formData.requestType">
                              <option value="">--Select Category/Tariff--</option>
                              <option value="DLT">Domestic(DLT)</option>
                              <option value="CLT">Non Domestic(CLT)</option>
                              <option value="ILT">Industrial(ILT)</option>
                              <option value="GP">General Purpose(GP)</option>
                              <option value="WSLT">Public Water Supply(WSLT)</option>
                              <option value="PL">Public Lighting(PL)</option>
                              <option value="LED">LED Fittings And Lamps(LED)</option>
                              <option value="AP">Agriculture(AP)</option>
                              <option value="BPLM">Kultir Jyoti/BPL(BPLM)</option>
                              <option value="TOD_LT">Time Of Day-LT(TOD_LT)</option>
                            </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Consumer No </label>

                                        <ng-select [items]="consumerno" name="consumerNumber" class="custom" [loading]="loading" #consumerNumber="ngModel" [virtualScroll]="virtualScroll" [(ngModel)]="formData.consumerNumber" (keyup)="getConsumers($event)" (change)="getConsumerDetails()">
                                        </ng-select>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Sanction load (kwh)* </label>
                                        <input type="text" class="form-control" #sectionLoad="ngModel" name="sectionLoad" [(ngModel)]="formData.sectionLoad" required placeholder="Sanction load (kwh)*" />
                                    </div>

                                    <div class="col-md-3">
                                        <label>Request By</label>
                                        <input type="text" class="form-control" #requestByName="ngModel" name="requestByName" [(ngModel)]="formData.requestByName" readonly placeholder="requestBy" />
                                    </div>
                                    <div class="col-md-3">
                                        <label>Request To</label>

                                        <select class="form-control" #requestTo="ngModel" name="requestTo" [(ngModel)]="formData.requestTo">
                              <option value="">--Select User--</option>
                              <option
                                *ngFor="let obj of members"
                                value="{{ obj.userID }}"
                              >
                                {{ obj.fullName }}
                              </option>
                            </select>
                                    </div>

                                    <div class="col-md-3">
                                        <label>Old Tarrif</label>
                                        <input #oldTariff="ngModel" name="oldTariff" [(ngModel)]="formData.oldTariff" type="number" class="form-control" placeholder="0.0" />
                                    </div>

                                    <div class="col-md-3">
                                        <label>New Tarrif</label>
                                        <input #newTariff="ngModel" name="newTariff" [(ngModel)]="formData.newTariff" type="number" class="form-control" placeholder="0.0" />
                                    </div>

                                    <div class="col-md-6">
                                        <label>Request Reason</label>

                                        <textarea class="form-control" #requestReason="ngModel" name="requestReason" [(ngModel)]="formData.requestReason" required rows="2" cols="50"></textarea>
                                    </div>


                                    <div class="col-md-6">
                                        <label>Remarks</label>

                                        <textarea class="form-control" #remarks="ngModel" name="remarks" [(ngModel)]="formData.remarks" rows="2" cols="50"></textarea>
                                    </div>

                                </div>

                                <button [disabled]="form.invalid" *ngIf="formData.requestStatus == 'Pending'" type="submit" class="btn btn-success">
                          <i class="fa fa-check"></i> Submit
                        </button>

                                <button type="reset" class="btn btn-danger" style="float: right">
                          <i class="fa fa-refresh"></i> Reset
                        </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>