<div class="midde_cont">
    <div class="container-fluid">
        <!-- row -->
        <div class="row column1">
            <div class="col-md-12">
                <div class="white_shd full margin_bottom_30">
                    <div class="full price_table padding_infor_info">


                        <div class="row">
                            <!-- column contact -->
                            <div class="col-md-12">
                                <form #form="ngForm" (submit)="manageRequest()">
                                    <input type="hidden" #requestID="ngModel" name="requestID"
                                        [(ngModel)]="formData.requestID" />
                                    <div class="form-group row">

                                        <!-- <div class="col-md-4">
                                            <label>Access Level</label>

                                            <select class="form-control" (change)="getSubdivision()" name="accessLevel"
                                                [(ngModel)]="accessform.accessLevel" required>
                                                <option value="">-- Select Level --</option>
                                                <option value="SUBDEVISION">Subdivision</option>
                                                <option value="SUBSTATION">Substation</option>
                                                <option value="FEEDER">Feeder</option>
                                                <option value="DT">DT</option>
                                            </select>

                                        </div> -->
                                        

                                       
                                    



                                    <div class="col-md-4">
                                        <label>Request Type</label>
                                        <select class="form-control" #requestType="ngModel" name="requestType"
                                            [(ngModel)]="formData.requestType">
                                            <option value="">--Select Request--</option>
                                            <option value="LoadConnect">Load Connect</option>
                                            <option value="LoadDisConnect">Load DisConnect</option>
                                            <!-- <option value="PrePaidMode">Pre-Paid Mode</option>
                                            <option value="PostPaidMode">Post-Paid Mode</option> -->
                                            <option value="ImportOnly">Import Only</option>
                                            <option value="ImportExport">Import Export</option>
                                            <!-- <option value="Firmware">Firmware</option> -->
                                        </select>
                                    </div>

                                    <div class="col-md-4">
                                        <label>Consumer Type</label>
                                        <select class="form-control" (change)="onList()" #consumerNumber="ngModel"
                                            name="consumerNumber" [(ngModel)]="formData.consumerNumber">
                                            <option value="">--Select Consumer Type--</option>
                                            <option value="DLT">Domestic(DLT)</option>
                                            <option value="CLT">Non Domestic(CLT)</option>
                                            <option value="ILT">Industrial(ILT)</option>
                                            <option value="GP">General Purpose(GP)</option>
                                            <option value="WSLT">Public Water Supply(WSLT)</option>
                                            <option value="PL">Public Lighting(PL)</option>
                                            <option value="LED">LED Fittings And Lamps(LED)</option>
                                            <option value="AP">Agriculture(AP)</option>
                                            <option value="BPLM">Kultir Jyoti/BPL(BPLM)</option>
                                            <option value="TOD_LT">Time Of Day-LT(TOD_LT)</option>
                                            <option value="1P">Single Phase</option>
                                            <option value="3P">Three Phase</option>
                                            <option value="CT">CT Meter</option>
                                            <option value="HT">HT Meter</option>
                                        </select>
                                    </div>
                                    <!-- <div class="col-md-4" *ngIf="formData.requestType == 'Firmware'">
                                        <label>Firmware File </label>
                                        <select class="form-control">
                                            <option>-- Select Firmware --</option>
                                            <option>i210-a0-V02-2021040901</option>
                                        </select>
                                    </div> -->
                                    <div class="col-md-4">
                                        <label>Request By</label>
                                        <input type="text" class="form-control" #requestByName="ngModel"
                                            name="requestByName" [(ngModel)]="formData.requestByName" readonly
                                            placeholder="requestBy" />
                                    </div>
                                    <div class="col-md-4">
                                        <label>Request To</label>

                                        <select class="form-control" #requestTo="ngModel" name="requestTo"
                                            [(ngModel)]="formData.requestTo">
                                            <option value="">--Select User--</option>
                                            <option *ngFor="let obj of members" value="{{ obj.userID }}">
                                                {{ obj.fullName }}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-md-8">
                                        <label>Request Reason</label>

                                        <textarea class="form-control" [readonly]="isAssignUser"
                                            #requestReason="ngModel" name="requestReason"
                                            [(ngModel)]="formData.requestReason" required rows="2" cols="50"></textarea>
                                    </div>
                                    <div class="col-md-6">
                                        <label>Response</label>

                                        <textarea class="form-control" [readonly]="!isAssignUser" #response="ngModel"
                                            name="response" [(ngModel)]="formData.response" rows="2"
                                            cols="50"></textarea>
                                    </div>

                                    <div class="col-md-6">
                                        <label>Remarks</label>

                                        <textarea class="form-control" #remarks="ngModel" name="remarks"
                                            [(ngModel)]="formData.remarks" rows="2" cols="50"></textarea>
                                    </div>
                                    <div class="col-md-4" *ngIf="formData.requestID > 0 && isAssignUser">
                                        <label>Request Status</label>
                                        <select class="form-control" #requestStatus="ngModel" name="requestStatus"
                                            [(ngModel)]="formData.requestStatus">
                                            <option value="Pending">Pending</option>
                                            <option value="Accept">Accept</option>
                                            <option value="Reject">Reject</option>
                                        </select>
                                    </div>
                            </div>

                            <button [disabled]="form.invalid" type="submit" class="btn btn-success">
                                <i class="fa fa-check"></i> Submit
                            </button>
                            <a style="margin-left: 5px;" routerLink="/mdm/prepaid/servicerequest"
                                class="btn btn-primary">
                                <i class="fa fa-arrow-left"></i> Back
                            </a>
                            <button type="reset" *ngIf="!isAssignUser" class="btn btn-danger" style="float: right">
                                <i class="fa fa-refresh"></i> Reset
                            </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row column1">
    <div class="col-md-12">
        <div class="white_shd full margin_bottom_30">
            <div class="full price_table padding_infor_info">
                <div class="table-responsive-sm">
                    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                        class="table table-striped table-bordered  nowrap">
                        <thead class="thead-dark">

                            <tr>
                                <th>Consumer Number</th>
                                <th>Consumer Name</th>
                                <th>Address</th>
                                <th>Meter No</th>
                                <th>Mobile No</th>
                                <th>Meter Type</th>
                                <th>Consumer Type</th>
                                <th>Billing Category</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let obj of dataList">
                                <td>
                                    {{ obj.customerNo }}
                                </td>
                                <td>
                                    {{ obj.customerName }}
                                </td>

                                <td>
                                    {{ obj.address }}
                                </td>
                                <td>
                                    {{ obj.meterSerialNumber }}
                                </td>

                                <td>
                                    {{ obj.mobileNo }}
                                </td>
                                <td>
                                    {{ obj.meterType }}
                                </td>
                                <td>
                                    {{ obj.consumerType }}
                                </td>
                                <td>
                                    {{ obj.billingCategory }}
                                </td>


                            </tr>
                        </tbody>
                        <!-- <tbody *ngIf="dataList?.length == 0">
                <tr>
                  <td colspan="8" class="no-data-available">No data!</td>
                </tr>
              </tbody> -->
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>